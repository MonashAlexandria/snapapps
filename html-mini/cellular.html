<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>Cellular, Beta</title>
		<script type="text/javascript" src="d3.min.js"></script>
        <link rel="stylesheet" type="text/css" href="nv.d3.min.css" />
		<script type="text/javascript" src="nv.d3.min.js"></script>
		<script type="text/javascript" src="js/base.min.js"></script>
		<script type="text/javascript" src="js/cellular.min.js"></script>
		<script type="text/javascript">
			var world;
			window.onload = function () {
				world = new WorldMorph(document.getElementById('world'));
              	if ((navigator.platform === 'iPad' || navigator.platform === 'iPhone')
                	&& window.location.protocol.startsWith('ibooks')){
                	// Add a offset margin for iBooks on iPad and iPhone, where a black bar
                	// can sit across the top, blocking access to the widget's controls.
                	world.setMarginOffset(0, 54);
              	}
				var ide = new IDE_Morph();
                ide.openIn(world);
                window.onInteractiveLoad = function() {
                    window.onbeforeunload = function() { };
                    var project = getInteractiveParameter('project');
                    if (project !== undefined) {
                        ide.rawOpenProjectString(project);
				        ide.toggleAppMode(true);
                    }
                }
				setInterval(loop, 1);
			};
			function loop() {
				world.doOneCycle();
			}
		</script>
	</head>
	<body style="margin: 0;">
		<canvas id="world" tabindex="1" style="position: absolute;" />
    </body>
</html>
